{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { Card, Col, Space, Row, Divider, message, Typography, Modal, Tag } from \"antd\";\nimport NumberFormat from \"react-number-format\";\nimport StockToggle from \"./Generalui/StockToggle\";\nimport { useDispatch } from \"react-redux\";\nimport { ADD_CART_ITEM_REQUEST, CLEAR_CART_REQUEST } from \"../reducers/cart\";\nimport Countdown from \"react-countdown\";\nimport { useSelector } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport OneSignal from \"react-onesignal\";\nimport { onClickPayment } from \"./Generalui/Payment\";\nimport ModalInterface from \"./Generalui/Modal\";\nimport { INITIATE_STOCK_QUANTITY_SUCCESS } from \"../reducers/stock\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nvar Product = function Product(_ref) {\n  _s();\n\n  var product = _ref.product,\n      quantity = _ref.quantity,\n      discount = _ref.discount,\n      stock = _ref.stock,\n      id = _ref.id,\n      dueDate = _ref.dueDate,\n      shop = _ref.shop;\n\n  var _useState = useState(false),\n      toggleModal = _useState[0],\n      setToggleModal = _useState[1];\n\n  var _useState2 = useState(),\n      IMP = _useState2[0],\n      setIMP = _useState2[1];\n\n  var onChangeToggleModal = function onChangeToggleModal() {\n    return setToggleModal(function (prev) {\n      return !prev;\n    });\n  };\n\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      isLoggedIn = _useSelector.isLoggedIn,\n      session = _useSelector.session;\n\n  useEffect(function () {\n    var _window = window,\n        IMP = _window.IMP;\n    setIMP(IMP);\n  }, []);\n\n  var onClickAddCart = function onClickAddCart() {\n    var id = product.id,\n        title = product.title,\n        price = product.price,\n        Images = product.Images,\n        description = product.description,\n        Shop = product.Shop;\n    var discountedProduct = {\n      id: id,\n      title: title,\n      Images: Images,\n      description: description,\n      Shop: Shop,\n      ShopId: ShopId,\n      quantity: quantity,\n      stock: stock,\n      ShopName: shop.name,\n      price: price * (1 - discount),\n      amount: price * (1 - discount) * quantity\n    };\n    dispatch({\n      type: ADD_CART_ITEM_REQUEST,\n      product: discountedProduct\n    });\n    dispatch({\n      type: INITIATE_STOCK_QUANTITY_SUCCESS,\n      data: {\n        id: id\n      }\n    });\n  };\n\n  var paymentStart = function paymentStart() {\n    dispatch({\n      type: CLEAR_CART_REQUEST\n    });\n    dispatch({\n      type: INITIATE_STOCK_QUANTITY_SUCCESS,\n      data: {\n        id: id\n      }\n    });\n    return onClickPayment({\n      type: \"single\",\n      id: id,\n      product: product,\n      discount: discount,\n      quantity: quantity,\n      ShopId: shop.id,\n      isLoggedIn: isLoggedIn,\n      ShopName: shop.name,\n      session: session,\n      onChangeToggleModal: onChangeToggleModal\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(ModalInterface, {\n      content: \"로그인을 하셔야 합니다.\",\n      toggleModal: toggleModal,\n      onChangeToggleModal: onChangeToggleModal,\n      title: \"경고\"\n    }), /*#__PURE__*/_jsx(Card, {\n      title: /*#__PURE__*/_jsxs(_Fragment, {\n        children: [/*#__PURE__*/_jsxs(Space, {\n          children: [/*#__PURE__*/_jsx(Typography.Title, {\n            level: 3,\n            children: product.title\n          }), \" \", /*#__PURE__*/_jsxs(Tag, {\n            color: \"magenta\",\n            children: [\"-\", discount * 100, \"%\"]\n          })]\n        }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(Typography.Text, {\n          level: 5,\n          type: \"secondary\",\n          children: /*#__PURE__*/_jsx(Countdown, {\n            daysInHours: true,\n            date: dueDate\n          }, id)\n        })]\n      }),\n      actions: [/*#__PURE__*/_jsx(\"div\", {\n        onClick: paymentStart,\n        children: \"\\uC989\\uC2DC \\uAD6C\\uB9E4\"\n      }), /*#__PURE__*/_jsx(\"div\", {\n        onClick: onClickAddCart,\n        children: \"\\uC7A5\\uBC14\\uAD6C\\uB2C8\"\n      })],\n      cover: /*#__PURE__*/_jsx(\"img\", {\n        style: {\n          border: \"1px solid #EFF2F5\"\n        },\n        src: product && product.Images[0] && \"\".concat(process.env.BACKEND_IP, \"/uploads/\").concat(product.Images[0].url)\n      }),\n      hoverable: true,\n      children: /*#__PURE__*/_jsx(Card.Meta, {\n        description: /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsxs(Row, {\n            gutter: [16, 16],\n            align: \"middle\",\n            justify: \"end\",\n            children: [/*#__PURE__*/_jsx(Col, {\n              md: 16,\n              xs: 13,\n              style: {\n                display: \"inline-block\"\n              },\n              children: /*#__PURE__*/_jsxs(_Fragment, {\n                children: [/*#__PURE__*/_jsxs(Space, {\n                  align: \"end\",\n                  children: [\"\\uAC00\\uACA9\", /*#__PURE__*/_jsxs(Tag, {\n                    size: \"small\",\n                    children: [/*#__PURE__*/_jsx(NumberFormat, {\n                      style: {\n                        fontSize: \"50%\"\n                      },\n                      value: product.price,\n                      displayType: \"text\",\n                      thousandSeparator: true\n                    }), \"\\uC6D0\"]\n                  })]\n                }), /*#__PURE__*/_jsxs(Typography.Title, {\n                  level: 2,\n                  style: {\n                    color: \"#FF5733\",\n                    fontWeight: \"bold\"\n                  },\n                  children: [/*#__PURE__*/_jsx(NumberFormat, {\n                    value: Math.ceil(product.price * (1 - discount)),\n                    displayType: \"text\",\n                    thousandSeparator: true\n                  }), \"\\uC6D0\"]\n                })]\n              })\n            }), /*#__PURE__*/_jsx(Col, {\n              md: 8,\n              xs: 11,\n              children: /*#__PURE__*/_jsxs(Space, {\n                direction: \"vertical\",\n                children: [/*#__PURE__*/_jsxs(Row, {\n                  gutter: [0, 10],\n                  children: [/*#__PURE__*/_jsx(Col, {\n                    span: 14,\n                    children: \"\\uB0A8\\uC740\\uC218\\uB7C9:\"\n                  }), /*#__PURE__*/_jsxs(Col, {\n                    span: 10,\n                    children: [stock, \"\\uAC1C\"]\n                  })]\n                }), /*#__PURE__*/_jsx(StockToggle, {\n                  id: id,\n                  quantity: quantity,\n                  stock: stock\n                })]\n              })\n            })]\n          }), /*#__PURE__*/_jsx(Divider, {}), /*#__PURE__*/_jsxs(Row, {\n            align: \"middle\",\n            justify: \"center\",\n            children: [/*#__PURE__*/_jsx(Col, {\n              span: 8,\n              xs: 8,\n              children: /*#__PURE__*/_jsx(\"div\", {\n                children: \"\\uCD1D \\uC8FC\\uBB38\\uAE08\\uC561\"\n              })\n            }), /*#__PURE__*/_jsx(Col, {\n              span: 16,\n              xs: 16,\n              children: /*#__PURE__*/_jsx(\"div\", {\n                style: {\n                  textAlign: \"right\"\n                },\n                children: /*#__PURE__*/_jsxs(\"h1\", {\n                  children: [/*#__PURE__*/_jsx(NumberFormat, {\n                    value: Math.ceil(product.price * (1 - discount)) * quantity,\n                    displayType: \"text\",\n                    thousandSeparator: true\n                  }), \"\\uC6D0\"]\n                })\n              })\n            })]\n          })]\n        })\n      })\n    }, product.id)]\n  });\n};\n\n_s(Product, \"WKrdUE87Ajm0j9G2ETffWYAWzBY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Product;\nexport default Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["C:/Users/hoyuen/Documents/Dev/project1/frontend/components/Product.js"],"names":["Card","Col","Space","Row","Divider","message","Typography","Modal","Tag","NumberFormat","StockToggle","useDispatch","ADD_CART_ITEM_REQUEST","CLEAR_CART_REQUEST","Countdown","useSelector","useState","useEffect","OneSignal","onClickPayment","ModalInterface","INITIATE_STOCK_QUANTITY_SUCCESS","Product","product","quantity","discount","stock","id","dueDate","shop","toggleModal","setToggleModal","IMP","setIMP","onChangeToggleModal","prev","dispatch","state","user","isLoggedIn","session","window","onClickAddCart","title","price","Images","description","Shop","discountedProduct","ShopId","ShopName","name","amount","type","data","paymentStart","border","process","env","BACKEND_IP","url","display","fontSize","color","fontWeight","Math","ceil","textAlign"],"mappings":"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","sourcesContent":["import { Card, Col, Space, Row, Divider, message, Typography, Modal, Tag } from \"antd\";\nimport NumberFormat from \"react-number-format\";\nimport StockToggle from \"./Generalui/StockToggle\";\nimport { useDispatch } from \"react-redux\";\nimport { ADD_CART_ITEM_REQUEST, CLEAR_CART_REQUEST } from \"../reducers/cart\";\n\nimport Countdown from \"react-countdown\";\n\nimport { useSelector } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport OneSignal from \"react-onesignal\";\nimport { onClickPayment } from \"./Generalui/Payment\";\nimport ModalInterface from \"./Generalui/Modal\";\nimport { INITIATE_STOCK_QUANTITY_SUCCESS } from \"../reducers/stock\";\n\nconst Product = ({ product, quantity, discount, stock, id, dueDate, shop }) => {\n  const [toggleModal, setToggleModal] = useState(false);\n  const [IMP, setIMP] = useState();\n  const onChangeToggleModal = () => setToggleModal((prev) => !prev);\n  const dispatch = useDispatch();\n\n  const { isLoggedIn, session } = useSelector((state) => state.user);\n\n  useEffect(() => {\n    const { IMP } = window;\n    setIMP(IMP);\n  }, []);\n\n  const onClickAddCart = () => {\n    const { id, title, price, Images, description, Shop } = product;\n    const discountedProduct = {\n      id,\n      title,\n      Images,\n      description,\n      Shop,\n      ShopId,\n      quantity,\n      stock,\n      ShopName: shop.name,\n      price: price * (1 - discount),\n      amount: price * (1 - discount) * quantity,\n    };\n    dispatch({\n      type: ADD_CART_ITEM_REQUEST,\n      product: discountedProduct,\n    });\n    dispatch({ type: INITIATE_STOCK_QUANTITY_SUCCESS, data: { id } });\n  };\n\n  const paymentStart = () => {\n    dispatch({ type: CLEAR_CART_REQUEST });\n    dispatch({ type: INITIATE_STOCK_QUANTITY_SUCCESS, data: { id } });\n    return onClickPayment({\n      type: \"single\",\n      id,\n      product,\n      discount,\n      quantity,\n      ShopId: shop.id,\n      isLoggedIn,\n      ShopName: shop.name,\n      session,\n      onChangeToggleModal,\n    });\n  };\n\n  return (\n    <>\n      <ModalInterface\n        content={\"로그인을 하셔야 합니다.\"}\n        toggleModal={toggleModal}\n        onChangeToggleModal={onChangeToggleModal}\n        title={\"경고\"}\n      />\n      <Card\n        key={product.id}\n        title={\n          <>\n            <Space>\n              <Typography.Title level={3}>{product.title}</Typography.Title>{\" \"}\n              <Tag color={\"magenta\"}>-{discount * 100}%</Tag>\n            </Space>\n            <br />\n            <Typography.Text level={5} type={\"secondary\"}>\n              <Countdown key={id} daysInHours={true} date={dueDate} />\n            </Typography.Text>\n          </>\n        }\n        actions={[\n          <div onClick={paymentStart}>즉시 구매</div>,\n          <div onClick={onClickAddCart}>장바구니</div>,\n        ]}\n        cover={\n          <img\n            style={{ border: `1px solid #EFF2F5` }}\n            src={\n              product &&\n              product.Images[0] &&\n              `${process.env.BACKEND_IP}/uploads/${product.Images[0].url}`\n            }\n          />\n        }\n        hoverable\n      >\n        <Card.Meta\n          description={\n            <>\n              <Row gutter={[16, 16]} align={\"middle\"} justify={\"end\"}>\n                <Col md={16} xs={13} style={{ display: \"inline-block\" }}>\n                  <>\n                    <Space align=\"end\">\n                      가격\n                      <Tag size={\"small\"}>\n                        <NumberFormat\n                          style={{ fontSize: \"50%\" }}\n                          value={product.price}\n                          displayType={\"text\"}\n                          thousandSeparator={true}\n                        />\n                        원\n                      </Tag>\n                    </Space>\n                    <Typography.Title level={2} style={{ color: \"#FF5733\", fontWeight: \"bold\" }}>\n                      <NumberFormat\n                        value={Math.ceil(product.price * (1 - discount))}\n                        displayType={\"text\"}\n                        thousandSeparator={true}\n                      />\n                      원\n                    </Typography.Title>\n                  </>\n                </Col>\n                <Col md={8} xs={11}>\n                  <Space direction={\"vertical\"}>\n                    <Row gutter={[0, 10]}>\n                      <Col span={14}>남은수량:</Col>\n                      <Col span={10}>{stock}개</Col>\n                    </Row>\n                    <StockToggle id={id} quantity={quantity} stock={stock} />\n                  </Space>\n                </Col>\n              </Row>\n              <Divider />\n              <Row align={\"middle\"} justify={\"center\"}>\n                <Col span={8} xs={8}>\n                  <div>총 주문금액</div>\n                </Col>\n                <Col span={16} xs={16}>\n                  <div style={{ textAlign: \"right\" }}>\n                    <h1>\n                      <NumberFormat\n                        value={Math.ceil(product.price * (1 - discount)) * quantity}\n                        displayType={\"text\"}\n                        thousandSeparator={true}\n                      />\n                      원\n                    </h1>\n                  </div>\n                </Col>\n              </Row>\n            </>\n          }\n        />\n      </Card>\n    </>\n  );\n};\n\nexport default Product;\n"]},"metadata":{},"sourceType":"module"}