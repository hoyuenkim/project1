{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport Dropzone from \"react-dropzone\";\nimport Cropper from \"react-easy-crop\";\nimport { useState, useCallback } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Button, Upload } from \"antd\";\nconst {\n  Dragger\n} = Upload;\n\nconst ImageInput = () => {\n  // const { imagePath } = useSelector((state) => state.product);\n  const {\n    0: crop,\n    1: setCrop\n  } = useState({\n    x: 0,\n    y: 0\n  });\n  const {\n    0: zoom,\n    1: setZoom\n  } = useState(1);\n  const {\n    0: croppedAreaPixels,\n    1: setCroppedAreaPixels\n  } = useState(null);\n  const {\n    0: croppedImage,\n    1: setCroppedImage\n  } = useState(null);\n  const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\n    console.log(croppedArea, croppedAreaPixels);\n  }, []);\n  const {\n    0: upImg,\n    1: setUpImg\n  } = useState(null);\n  return __jsx(React.Fragment, null, !upImage && __jsx(Dropzone, {\n    onDrop: imgFile => {\n      const reader = new FileReader();\n      reader.readAsDataURL(imgFile[0]);\n\n      reader.onload = e => {\n        console.log(e.target);\n        setUpImg(e.target.result);\n      };\n    }\n  }, ({\n    getRootProps,\n    getInputProps\n  }) => __jsx(\"section\", null, __jsx(\"div\", getRootProps(), __jsx(\"input\", getInputProps()), __jsx(\"p\", null, \"Drag 'n' drop some files here, or click to select files\")))), upImg && __jsx(React.Fragment, null, __jsx(Cropper, {\n    image: upImg,\n    crop: crop,\n    zoom: zoom,\n    aspect: 4 / 3,\n    onCropChange: setCrop,\n    onZoomChange: setZoom,\n    onMediaLoaded: () => {\n      setZoom(1);\n    },\n    onCropcomplete: onCropComplete\n  }), __jsx(Button, null, \"test\")));\n};\n\nexport default ImageInput;","map":{"version":3,"sources":["C:/Users/hoyuen/Documents/project/project1/frontend/components/Generalui/ImageInput.js"],"names":["React","Dropzone","Cropper","useState","useCallback","useSelector","Button","Upload","Dragger","ImageInput","crop","setCrop","x","y","zoom","setZoom","croppedAreaPixels","setCroppedAreaPixels","croppedImage","setCroppedImage","onCropComplete","croppedArea","console","log","upImg","setUpImg","upImage","imgFile","reader","FileReader","readAsDataURL","onload","e","target","result","getRootProps","getInputProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,MAA/B;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAcD,MAApB;;AAEA,MAAME,UAAU,GAAG,MAAM;AACvB;AAEA,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBR,QAAQ,CAAC;AAAES,IAAAA,CAAC,EAAE,CAAL;AAAQC,IAAAA,CAAC,EAAE;AAAX,GAAD,CAAhC;AACA,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBZ,QAAQ,CAAC,CAAD,CAAhC;AACA,QAAM;AAAA,OAACa,iBAAD;AAAA,OAAoBC;AAApB,MAA4Cd,QAAQ,CAAC,IAAD,CAA1D;AACA,QAAM;AAAA,OAACe,YAAD;AAAA,OAAeC;AAAf,MAAkChB,QAAQ,CAAC,IAAD,CAAhD;AAEA,QAAMiB,cAAc,GAAGhB,WAAW,CAAC,CAACiB,WAAD,EAAcL,iBAAd,KAAoC;AACrEM,IAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ,EAAyBL,iBAAzB;AACD,GAFiC,EAE/B,EAF+B,CAAlC;AAIA,QAAM;AAAA,OAACQ,KAAD;AAAA,OAAQC;AAAR,MAAoBtB,QAAQ,CAAC,IAAD,CAAlC;AAEA,SACE,4BACG,CAACuB,OAAD,IACC,MAAC,QAAD;AACE,IAAA,MAAM,EAAGC,OAAD,IAAa;AACnB,YAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,MAAAA,MAAM,CAACE,aAAP,CAAqBH,OAAO,CAAC,CAAD,CAA5B;;AACAC,MAAAA,MAAM,CAACG,MAAP,GAAiBC,CAAD,IAAO;AACrBV,QAAAA,OAAO,CAACC,GAAR,CAAYS,CAAC,CAACC,MAAd;AACAR,QAAAA,QAAQ,CAACO,CAAC,CAACC,MAAF,CAASC,MAAV,CAAR;AACD,OAHD;AAID;AARH,KAUG,CAAC;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,GAAD,KACC,uBACE,aAASD,YAAY,EAArB,EACE,eAAWC,aAAa,EAAxB,CADF,EAEE,2EAFF,CADF,CAXJ,CAFJ,EAsBGZ,KAAK,IACJ,4BACE,MAAC,OAAD;AACE,IAAA,KAAK,EAAEA,KADT;AAEE,IAAA,IAAI,EAAEd,IAFR;AAGE,IAAA,IAAI,EAAEI,IAHR;AAIE,IAAA,MAAM,EAAE,IAAI,CAJd;AAKE,IAAA,YAAY,EAAEH,OALhB;AAME,IAAA,YAAY,EAAEI,OANhB;AAOE,IAAA,aAAa,EAAE,MAAM;AACnBA,MAAAA,OAAO,CAAC,CAAD,CAAP;AACD,KATH;AAUE,IAAA,cAAc,EAAEK;AAVlB,IADF,EAaE,MAAC,MAAD,eAbF,CAvBJ,CADF;AA0CD,CAxDD;;AA0DA,eAAeX,UAAf","sourcesContent":["import React from \"react\";\r\nimport Dropzone from \"react-dropzone\";\r\nimport Cropper from \"react-easy-crop\";\r\nimport { useState, useCallback } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Button, Upload } from \"antd\";\r\nconst { Dragger } = Upload;\r\n\r\nconst ImageInput = () => {\r\n  // const { imagePath } = useSelector((state) => state.product);\r\n\r\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\r\n  const [zoom, setZoom] = useState(1);\r\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\r\n  const [croppedImage, setCroppedImage] = useState(null);\r\n\r\n  const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\r\n    console.log(croppedArea, croppedAreaPixels);\r\n  }, []);\r\n\r\n  const [upImg, setUpImg] = useState(null);\r\n\r\n  return (\r\n    <>\r\n      {!upImage && (\r\n        <Dropzone\r\n          onDrop={(imgFile) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(imgFile[0]);\r\n            reader.onload = (e) => {\r\n              console.log(e.target);\r\n              setUpImg(e.target.result);\r\n            };\r\n          }}\r\n        >\r\n          {({ getRootProps, getInputProps }) => (\r\n            <section>\r\n              <div {...getRootProps()}>\r\n                <input {...getInputProps()} />\r\n                <p>Drag 'n' drop some files here, or click to select files</p>\r\n              </div>\r\n            </section>\r\n          )}\r\n        </Dropzone>\r\n      )}\r\n      {upImg && (\r\n        <>\r\n          <Cropper\r\n            image={upImg}\r\n            crop={crop}\r\n            zoom={zoom}\r\n            aspect={4 / 3}\r\n            onCropChange={setCrop}\r\n            onZoomChange={setZoom}\r\n            onMediaLoaded={() => {\r\n              setZoom(1);\r\n            }}\r\n            onCropcomplete={onCropComplete}\r\n          />\r\n          <Button>test</Button>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageInput;\r\n"]},"metadata":{},"sourceType":"module"}