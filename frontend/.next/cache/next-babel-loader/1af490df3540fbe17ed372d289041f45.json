{"ast":null,"code":"import { useRouter } from \"next/router\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { Card, Button, Modal, List, Avatar } from \"antd\";\nimport { ADD_SHOP_REQUEST } from \"../../../reducers/user\";\nimport { useInput } from \"../../../components/Generalui/CustomHooks\";\nimport ShopAddForm from \"../../../components/Forms/ShopAddForm\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nconst Index = () => {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const {\n    session,\n    isLoggedIn\n  } = useSelector(state => state.user);\n  const {\n    0: modal,\n    1: setModal\n  } = useState(false);\n  const [shopName, onChangeShopName] = useInput();\n  const {\n    0: address,\n    1: setAddress\n  } = useState();\n  const [addressDetail, onChangeAddressDetail] = useInput();\n  const {\n    0: coordinates,\n    1: setCoordinates\n  } = useState();\n\n  if (!session || !isLoggedIn) {\n    router.push(\"/\");\n  }\n\n  const onClickAddShop = () => {\n    return setModal(prev => !prev);\n  };\n\n  const onFinish = () => {\n    dispatch({\n      type: ADD_SHOP_REQUEST,\n      data: {\n        UserId: session.id,\n        shopName,\n        address,\n        addressDetail,\n        bizcode: session.Shops[0].bizcode,\n        coordinates\n      }\n    });\n    return setModal(false);\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Modal, {\n      visible: modal,\n      onCancel: onClickAddShop,\n      title: \"점포 추가\",\n      footer: null,\n      children: /*#__PURE__*/_jsx(ShopAddForm, {\n        onFinish: onFinish,\n        onChangeShopName: onChangeShopName,\n        address: address,\n        setAddress: setAddress,\n        onChangeAddressDetail: onChangeAddressDetail,\n        setCoordinates: setCoordinates\n      })\n    }), /*#__PURE__*/_jsx(Card, {\n      title: session ? `${session.name}님의 매장 리스트` : \"매장 리스트\",\n      extra: /*#__PURE__*/_jsx(Button, {\n        onClick: onClickAddShop,\n        children: \"\\uB9E4\\uC7A5\\uCD94\\uAC00\"\n      }),\n      children: /*#__PURE__*/_jsx(List, {\n        layout: \"horizental\",\n        dataSource: session.Shops,\n        renderItem: shop => {\n          return /*#__PURE__*/_jsxs(List.Item, {\n            actions: [/*#__PURE__*/_jsx(\"div\", {\n              onClick: () => router.push(`/shop/admin/${shop.id}`),\n              children: \"\\uB9E4\\uC7A5\\uAD00\\uB9AC\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              children: \"\\uB9E4\\uC7A5\\uC0AD\\uC81C\"\n            })],\n            children: [/*#__PURE__*/_jsx(List.Item.Meta, {\n              avatar: /*#__PURE__*/_jsx(Avatar, {\n                children: shop.name[0]\n              })\n            }), shop.name]\n          });\n        }\n      })\n    })]\n  });\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/hoyuen/Documents/dev/project1/frontend/pages/shop/admin/index.js"],"names":["useRouter","useSelector","useDispatch","useState","useEffect","Card","Button","Modal","List","Avatar","ADD_SHOP_REQUEST","useInput","ShopAddForm","Index","dispatch","router","session","isLoggedIn","state","user","modal","setModal","shopName","onChangeShopName","address","setAddress","addressDetail","onChangeAddressDetail","coordinates","setCoordinates","push","onClickAddShop","prev","onFinish","type","data","UserId","id","bizcode","Shops","name","shop"],"mappings":"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","sourcesContent":["import { useRouter } from \"next/router\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { Card, Button, Modal, List, Avatar } from \"antd\";\nimport { ADD_SHOP_REQUEST } from \"../../../reducers/user\";\nimport { useInput } from \"../../../components/Generalui/CustomHooks\";\nimport ShopAddForm from \"../../../components/Forms/ShopAddForm\";\n\nconst Index = () => {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const { session, isLoggedIn } = useSelector((state) => state.user);\n  const [modal, setModal] = useState(false);\n  const [shopName, onChangeShopName] = useInput();\n  const [address, setAddress] = useState();\n  const [addressDetail, onChangeAddressDetail] = useInput();\n  const [coordinates, setCoordinates] = useState();\n\n  if (!session || !isLoggedIn) {\n    router.push(\"/\");\n  }\n\n  const onClickAddShop = () => {\n    return setModal((prev) => !prev);\n  };\n\n  const onFinish = () => {\n    dispatch({\n      type: ADD_SHOP_REQUEST,\n      data: {\n        UserId: session.id,\n        shopName,\n        address,\n        addressDetail,\n        bizcode: session.Shops[0].bizcode,\n        coordinates,\n      },\n    });\n    return setModal(false);\n  };\n\n  return (\n    <>\n      <Modal visible={modal} onCancel={onClickAddShop} title={\"점포 추가\"} footer={null}>\n        <ShopAddForm\n          onFinish={onFinish}\n          onChangeShopName={onChangeShopName}\n          address={address}\n          setAddress={setAddress}\n          onChangeAddressDetail={onChangeAddressDetail}\n          setCoordinates={setCoordinates}\n        />\n      </Modal>\n      <Card\n        title={session ? `${session.name}님의 매장 리스트` : \"매장 리스트\"}\n        extra={<Button onClick={onClickAddShop}>매장추가</Button>}\n      >\n        <List\n          layout={\"horizental\"}\n          dataSource={session.Shops}\n          renderItem={(shop) => {\n            return (\n              <List.Item\n                actions={[\n                  <div onClick={() => router.push(`/shop/admin/${shop.id}`)}>매장관리</div>,\n                  <div>매장삭제</div>,\n                ]}\n              >\n                <List.Item.Meta avatar={<Avatar>{shop.name[0]}</Avatar>} />\n                {shop.name}\n              </List.Item>\n            );\n          }}\n        />\n      </Card>\n    </>\n  );\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}