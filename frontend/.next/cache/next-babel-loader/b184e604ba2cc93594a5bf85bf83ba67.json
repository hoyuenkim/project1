{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\hoyuen\\\\Documents\\\\project\\\\project1\\\\frontend\\\\pages\\\\parking\\\\regist.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { Card, Input, Form, DatePicker } from \"antd\";\nimport { useInput } from \"../../components/CustomHooks\";\nimport CentralAppLayout from \"../../components/CentralAppLayout\";\nimport { useState } from \"react\";\nimport Router from \"next/router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { GUEST_REGIST_REQUEST } from \"../../reducers/parking\";\nimport moment from \"moment\";\n\nvar ParkingRegist = function ParkingRegist() {\n  var dispatch = useDispatch();\n\n  var _useState = useState(),\n      plateNumber = _useState[0],\n      setPlateNumber = _useState[1];\n\n  var _useState2 = useState(false),\n      plateNumberError = _useState2[0],\n      setPlateNumberError = _useState2[1];\n\n  var _useState3 = useState(),\n      dueDate = _useState3[0],\n      setDueDate = _useState3[1];\n\n  var onChangePlateNumber = function onChangePlateNumber(e) {\n    setPlateNumber(e.target.value);\n    var regex = /^[가-힣]{2}\\d{2}[가-힣]\\d{4}$/;\n    var regex2 = /^\\d{2,3}[가-힣]{1}\\d{4}$/;\n    var result = regex.test(e.target.value);\n    var result2 = regex2.test(e.target.value);\n    setPlateNumberError(!result && !result2);\n  };\n\n  var onChangeDueDate = function onChangeDueDate(e) {\n    if (e) {\n      var _e = _slicedToArray(e, 2),\n          start = _e[0],\n          end = _e[1];\n\n      return setDueDate([new Date(start), new Date(end)]);\n    }\n\n    setDueDate(undefined);\n  };\n\n  var onSubmit = function onSubmit() {\n    if (dueDate === undefined || plateNumber === undefined || plateNumberError === true) {\n      console.log(\"error\");\n      return false;\n    }\n\n    dispatch({\n      type: GUEST_REGIST_REQUEST,\n      data: {\n        plateNumber: plateNumber,\n        dueDate: dueDate\n      }\n    });\n    Router.push(\"/parking/lists\");\n  };\n\n  var _useInput = useInput(),\n      _useInput2 = _slicedToArray(_useInput, 2),\n      reason = _useInput2[0],\n      onChangeReason = _useInput2[1];\n\n  var disabledDate = function disabledDate(current) {\n    return current <= moment().endOf(\"day\");\n  };\n\n  return __jsx(CentralAppLayout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, __jsx(Card, {\n    title: \"\\uCC28\\uB7C9\\uB4F1\\uB85D\",\n    actions: [__jsx(\"div\", {\n      onClick: onSubmit,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 38\n      }\n    }, \"\\uC81C\\uCD9C\")],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, __jsx(Form, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, __jsx(Form.Item, {\n    name: \"dueDate\",\n    label: \"\\uBC29\\uBB38\\uC77C\\uC790\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, __jsx(DatePicker.RangePicker, {\n    value: dueDate,\n    onChange: onChangeDueDate,\n    disabledDate: disabledDate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  })), __jsx(Form.Item, {\n    name: \"plateNumber\",\n    label: \"\\uCC28\\uB7C9\\uBC88\\uD638\",\n    rules: [{\n      required: true,\n      message: \"차량번호를 입력해 주세요!\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    value: plateNumber,\n    onChange: onChangePlateNumber,\n    placeholder: \"\\uCC28\\uB7C9\\uBC88\\uD638\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  })), plateNumberError && __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 32\n    }\n  }, \"\\uCC28\\uB7C9\\uBC88\\uD638\\uAC00 \\uD615\\uC2DD\\uC5D0 \\uB9DE\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4\"), __jsx(Form.Item, {\n    name: \"reason\",\n    label: \"\\uC0AC\\uC720\",\n    rules: [{\n      required: true,\n      message: \"사유를 입력해주세요\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, __jsx(Input, {\n    value: reason,\n    onChange: onChangeReason,\n    placeholder: \"\\uC0AC\\uC720\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default ParkingRegist;","map":{"version":3,"sources":["C:/Users/hoyuen/Documents/project/project1/frontend/pages/parking/regist.js"],"names":["Card","Input","Form","DatePicker","useInput","CentralAppLayout","useState","Router","useDispatch","useSelector","GUEST_REGIST_REQUEST","moment","ParkingRegist","dispatch","plateNumber","setPlateNumber","plateNumberError","setPlateNumberError","dueDate","setDueDate","onChangePlateNumber","e","target","value","regex","regex2","result","test","result2","onChangeDueDate","start","end","Date","undefined","onSubmit","console","log","type","data","push","reason","onChangeReason","disabledDate","current","endOf","required","message"],"mappings":"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","sourcesContent":["import { Card, Input, Form, DatePicker } from \"antd\";\r\nimport { useInput } from \"../../components/CustomHooks\";\r\nimport CentralAppLayout from \"../../components/CentralAppLayout\";\r\nimport { useState } from \"react\";\r\nimport Router from \"next/router\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { GUEST_REGIST_REQUEST } from \"../../reducers/parking\";\r\nimport moment from \"moment\";\r\n\r\nconst ParkingRegist = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [plateNumber, setPlateNumber] = useState();\r\n  const [plateNumberError, setPlateNumberError] = useState(false);\r\n  const [dueDate, setDueDate] = useState();\r\n\r\n  const onChangePlateNumber = (e) => {\r\n    setPlateNumber(e.target.value);\r\n    const regex = /^[가-힣]{2}\\d{2}[가-힣]\\d{4}$/;\r\n    const regex2 = /^\\d{2,3}[가-힣]{1}\\d{4}$/;\r\n    const result = regex.test(e.target.value);\r\n    const result2 = regex2.test(e.target.value);\r\n    setPlateNumberError(!result && !result2);\r\n  };\r\n\r\n  const onChangeDueDate = (e) => {\r\n    if (e) {\r\n      const [start, end] = e;\r\n\r\n      return setDueDate([new Date(start), new Date(end)]);\r\n    }\r\n    setDueDate(undefined);\r\n  };\r\n\r\n  const onSubmit = () => {\r\n    if (dueDate === undefined || plateNumber === undefined || plateNumberError === true) {\r\n      console.log(`error`);\r\n      return false;\r\n    }\r\n    dispatch({ type: GUEST_REGIST_REQUEST, data: { plateNumber, dueDate } });\r\n    Router.push(\"/parking/lists\");\r\n  };\r\n\r\n  const [reason, onChangeReason] = useInput();\r\n\r\n  const disabledDate = (current) => {\r\n    return current <= moment().endOf(\"day\");\r\n  };\r\n\r\n  return (\r\n    <CentralAppLayout>\r\n      <Card title={`차량등록`} actions={[<div onClick={onSubmit}>제출</div>]}>\r\n        <Form>\r\n          <Form.Item name=\"dueDate\" label=\"방문일자\">\r\n            <DatePicker.RangePicker\r\n              value={dueDate}\r\n              onChange={onChangeDueDate}\r\n              disabledDate={disabledDate}\r\n            />\r\n          </Form.Item>\r\n          <Form.Item\r\n            name=\"plateNumber\"\r\n            label=\"차량번호\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"차량번호를 입력해 주세요!\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input\r\n              value={plateNumber}\r\n              onChange={onChangePlateNumber}\r\n              placeholder=\"차량번호를 입력해주세요\"\r\n            />\r\n          </Form.Item>\r\n          {plateNumberError && <div>차량번호가 형식에 맞지 않습니다</div>}\r\n          <Form.Item\r\n            name=\"reason\"\r\n            label=\"사유\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: \"사유를 입력해주세요\",\r\n              },\r\n            ]}\r\n          >\r\n            <Input value={reason} onChange={onChangeReason} placeholder=\"사유를 입력해주세요\" />\r\n          </Form.Item>\r\n        </Form>\r\n      </Card>\r\n    </CentralAppLayout>\r\n  );\r\n};\r\n\r\nexport default ParkingRegist;\r\n"]},"metadata":{},"sourceType":"module"}