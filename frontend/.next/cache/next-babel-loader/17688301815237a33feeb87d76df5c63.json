{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { Map, CustomOverlayMap } from \"react-kakao-maps-sdk\";\nimport { Card, Tag } from \"antd\";\nimport { useRouter } from \"next/router\";\nimport { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar MapComponent = function MapComponent(_ref) {\n  _s();\n\n  var session = _ref.session,\n      coordinates = _ref.coordinates;\n  var router = useRouter();\n\n  var _useSelector = useSelector(function (state) {\n    return state.shop;\n  }),\n      userCoordinates = _useSelector.userCoordinates;\n\n  console.log(userCoordinates);\n\n  var _useState = useState({\n    lat: session.lat,\n    lng: session.lng\n  }),\n      centerCoordinates = _useState[0],\n      setCenterCoordinates = _useState[1];\n\n  useEffect(function () {\n    if (userCoordinates) {\n      return setCenterCoordinates({\n        lat: userCoordinates[1],\n        lng: userCoordinates[0]\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsx(Card, {\n    children: /*#__PURE__*/_jsxs(Map, {\n      center: centerCoordinates,\n      style: {\n        width: \"100%\",\n        height: \"360px\"\n      },\n      level: 5,\n      children: [session && session.division === false && /*#__PURE__*/_jsx(CustomOverlayMap, {\n        position: {\n          lat: session.lat,\n          lng: session.lng\n        },\n        children: /*#__PURE__*/_jsx(Tag, {\n          children: session && session.name\n        }, session.id)\n      }, session.id), coordinates && coordinates.length > 0 && coordinates.map(function (result, index) {\n        var ids = session.Shops.filter(function (v) {\n          return v.id == result.ShopId;\n        });\n        return /*#__PURE__*/_jsx(CustomOverlayMap, {\n          position: {\n            lat: result.location.coordinates[1],\n            lng: result.location.coordinates[0]\n          },\n          children: /*#__PURE__*/_jsx(Tag, {\n            style: {\n              cursor: \"pointer\"\n            },\n            color: ids.length === 0 ? null : \"magenta\",\n            onClick: function onClick() {\n              if (ids.length == 0) {\n                return router.push(\"/menu/\".concat(result.ShopId));\n              } else {\n                return router.push(\"/shop/admin\");\n              }\n            },\n            children: result.name\n          }, index)\n        }, result.id);\n      })]\n    })\n  });\n};\n\n_s(MapComponent, \"QN9pzFD9riwyk7VKI4gL0jtund0=\", false, function () {\n  return [useRouter, useSelector];\n});\n\n_c = MapComponent;\nexport default MapComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"sources":["C:/Users/hoyuen/Documents/dev/project1/frontend/components/Generalui/MapComponent.js"],"names":["Map","CustomOverlayMap","Card","Tag","useRouter","useState","useEffect","useSelector","MapComponent","session","coordinates","router","state","shop","userCoordinates","console","log","lat","lng","centerCoordinates","setCenterCoordinates","width","height","division","name","id","length","map","result","index","ids","Shops","filter","v","ShopId","location","cursor","push"],"mappings":"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","sourcesContent":["import { Map, CustomOverlayMap } from \"react-kakao-maps-sdk\";\r\nimport { Card, Tag } from \"antd\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst MapComponent = ({ session, coordinates }) => {\r\n  const router = useRouter();\r\n  const { userCoordinates } = useSelector((state) => state.shop);\r\n\r\n  console.log(userCoordinates);\r\n\r\n  const [centerCoordinates, setCenterCoordinates] = useState({\r\n    lat: session.lat,\r\n    lng: session.lng,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (userCoordinates) {\r\n      return setCenterCoordinates({ lat: userCoordinates[1], lng: userCoordinates[0] });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Card>\r\n      <Map center={centerCoordinates} style={{ width: \"100%\", height: \"360px\" }} level={5}>\r\n        {session && session.division === false && (\r\n          <CustomOverlayMap key={session.id} position={{ lat: session.lat, lng: session.lng }}>\r\n            <Tag key={session.id}>{session && session.name}</Tag>\r\n          </CustomOverlayMap>\r\n        )}\r\n        {coordinates &&\r\n          coordinates.length > 0 &&\r\n          coordinates.map((result, index) => {\r\n            const ids = session.Shops.filter((v) => v.id == result.ShopId);\r\n            return (\r\n              <CustomOverlayMap\r\n                position={{\r\n                  lat: result.location.coordinates[1],\r\n                  lng: result.location.coordinates[0],\r\n                }}\r\n                key={result.id}\r\n              >\r\n                <Tag\r\n                  key={index}\r\n                  style={{ cursor: \"pointer\" }}\r\n                  color={ids.length === 0 ? null : \"magenta\"}\r\n                  onClick={() => {\r\n                    if (ids.length == 0) {\r\n                      return router.push(`/menu/${result.ShopId}`);\r\n                    } else {\r\n                      return router.push(`/shop/admin`);\r\n                    }\r\n                  }}\r\n                >\r\n                  {result.name}\r\n                </Tag>\r\n              </CustomOverlayMap>\r\n            );\r\n          })}\r\n      </Map>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default MapComponent;\r\n"]},"metadata":{},"sourceType":"module"}