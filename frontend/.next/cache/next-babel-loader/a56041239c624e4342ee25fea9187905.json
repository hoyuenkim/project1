{"ast":null,"code":"import { useRouter } from \"next/router\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { Card, Button, Modal, List, Comment, Form, Input } from \"antd\";\nimport { ADD_SHOP_REQUEST } from \"../../../reducers/shop\";\nimport { useInput } from \"../../../components/Generalui/CustomHooks\";\nimport KakaoAddress from \"../../../components/Generalui/KakaoAddress\";\nimport AddressDetail from \"../../../components/Forms/AddressDetailForm\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nconst Index = () => {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const {\n    session\n  } = useSelector(state => state.user);\n  const {\n    0: modal,\n    1: setModal\n  } = useState(false);\n  const [shopName, onChangeShopName] = useInput();\n  const {\n    0: address,\n    1: setAddress\n  } = useState();\n  const [addressDetail, onChangeAddressDetail] = useInput();\n  const {\n    0: coordinates,\n    1: setCoordinates\n  } = useState();\n\n  const onClickAddShop = () => {\n    return setModal(prev => !prev);\n  };\n\n  const onFinish = () => {\n    dispatch({\n      type: ADD_SHOP_REQUEST,\n      data: {\n        UserId: session.id,\n        shopName,\n        address,\n        addressDetail,\n        bizcode: session.Shops[0].bizcode,\n        coordinates\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Modal, {\n      visible: modal,\n      onCancel: onClickAddShop,\n      children: /*#__PURE__*/_jsxs(Form, {\n        onFinish: onFinish,\n        children: [/*#__PURE__*/_jsx(Form.Item, {\n          rules: [{\n            required: true,\n            message: \"점포명을 입력해주세요\"\n          }],\n          children: /*#__PURE__*/_jsx(Input, {\n            onChange: onChangeShopName\n          })\n        }), /*#__PURE__*/_jsx(KakaoAddress, {\n          address: address,\n          setAddress: setAddress,\n          setCoordinates: setCoordinates\n        }), /*#__PURE__*/_jsx(AddressDetail, {\n          onChangeAddressDetail: onChangeAddressDetail\n        })]\n      })\n    }), /*#__PURE__*/_jsx(Card, {\n      title: session ? `${session.name}님의 매장 리스트` : \"매장 리스트\",\n      extra: /*#__PURE__*/_jsx(Button, {\n        onClick: onClickAddShop,\n        children: \"\\uB9E4\\uC7A5\\uCD94\\uAC00\"\n      }),\n      children: session.Shops.map(shop => /*#__PURE__*/_jsx(Card, {\n        title: shop.name,\n        onClick: () => router.push(`/shop/admin/${shop.id}`),\n        extra: /*#__PURE__*/_jsx(Button, {\n          children: \"\\uB9E4\\uC7A5 \\uC0AD\\uC81C\"\n        }),\n        children: `주소: ${shop.address} ${shop.addressDetail && shop.addressDetail}`\n      }))\n    })]\n  });\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/hoyuen/Documents/dev/project1/frontend/pages/shop/admin/index.js"],"names":["useRouter","useSelector","useDispatch","useState","useEffect","Card","Button","Modal","List","Comment","Form","Input","ADD_SHOP_REQUEST","useInput","KakaoAddress","AddressDetail","Index","dispatch","router","session","state","user","modal","setModal","shopName","onChangeShopName","address","setAddress","addressDetail","onChangeAddressDetail","coordinates","setCoordinates","onClickAddShop","prev","onFinish","type","data","UserId","id","bizcode","Shops","required","message","name","map","shop","push"],"mappings":"AAAA,SAASA,SAAT,QAA0B,aAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,IAA9B,EAAoCC,OAApC,EAA6CC,IAA7C,EAAmDC,KAAnD,QAAgE,MAAhE;AACA,SAASC,gBAAT,QAAiC,wBAAjC;AACA,SAASC,QAAT,QAAyB,2CAAzB;AACA,OAAOC,YAAP,MAAyB,4CAAzB;AACA,OAAOC,aAAP,MAA0B,6CAA1B;;;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB,QAAMC,QAAQ,GAAGf,WAAW,EAA5B;AACA,QAAMgB,MAAM,GAAGlB,SAAS,EAAxB;AACA,QAAM;AAAEmB,IAAAA;AAAF,MAAclB,WAAW,CAAEmB,KAAD,IAAWA,KAAK,CAACC,IAAlB,CAA/B;AACA,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBpB,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACqB,QAAD,EAAWC,gBAAX,IAA+BZ,QAAQ,EAA7C;AACA,QAAM;AAAA,OAACa,OAAD;AAAA,OAAUC;AAAV,MAAwBxB,QAAQ,EAAtC;AACA,QAAM,CAACyB,aAAD,EAAgBC,qBAAhB,IAAyChB,QAAQ,EAAvD;AACA,QAAM;AAAA,OAACiB,WAAD;AAAA,OAAcC;AAAd,MAAgC5B,QAAQ,EAA9C;;AAEA,QAAM6B,cAAc,GAAG,MAAM;AAC3B,WAAOT,QAAQ,CAAEU,IAAD,IAAU,CAACA,IAAZ,CAAf;AACD,GAFD;;AAIA,QAAMC,QAAQ,GAAG,MAAM;AACrBjB,IAAAA,QAAQ,CAAC;AACPkB,MAAAA,IAAI,EAAEvB,gBADC;AAEPwB,MAAAA,IAAI,EAAE;AACJC,QAAAA,MAAM,EAAElB,OAAO,CAACmB,EADZ;AAEJd,QAAAA,QAFI;AAGJE,QAAAA,OAHI;AAIJE,QAAAA,aAJI;AAKJW,QAAAA,OAAO,EAAEpB,OAAO,CAACqB,KAAR,CAAc,CAAd,EAAiBD,OALtB;AAMJT,QAAAA;AANI;AAFC,KAAD,CAAR;AAWD,GAZD;;AAcA,sBACE;AAAA,4BACE,KAAC,KAAD;AAAO,MAAA,OAAO,EAAER,KAAhB;AAAuB,MAAA,QAAQ,EAAEU,cAAjC;AAAA,6BACE,MAAC,IAAD;AAAM,QAAA,QAAQ,EAAEE,QAAhB;AAAA,gCACE,KAAC,IAAD,CAAM,IAAN;AAAW,UAAA,KAAK,EAAE,CAAC;AAAEO,YAAAA,QAAQ,EAAE,IAAZ;AAAkBC,YAAAA,OAAO,EAAE;AAA3B,WAAD,CAAlB;AAAA,iCACE,KAAC,KAAD;AAAO,YAAA,QAAQ,EAAEjB;AAAjB;AADF,UADF,eAIE,KAAC,YAAD;AAAc,UAAA,OAAO,EAAEC,OAAvB;AAAgC,UAAA,UAAU,EAAEC,UAA5C;AAAwD,UAAA,cAAc,EAAEI;AAAxE,UAJF,eAKE,KAAC,aAAD;AAAe,UAAA,qBAAqB,EAAEF;AAAtC,UALF;AAAA;AADF,MADF,eAUE,KAAC,IAAD;AACE,MAAA,KAAK,EAAEV,OAAO,GAAI,GAAEA,OAAO,CAACwB,IAAK,WAAnB,GAAgC,QADhD;AAEE,MAAA,KAAK,eAAE,KAAC,MAAD;AAAQ,QAAA,OAAO,EAAEX,cAAjB;AAAA;AAAA,QAFT;AAAA,gBAIGb,OAAO,CAACqB,KAAR,CAAcI,GAAd,CAAmBC,IAAD,iBACjB,KAAC,IAAD;AACE,QAAA,KAAK,EAAEA,IAAI,CAACF,IADd;AAEE,QAAA,OAAO,EAAE,MAAMzB,MAAM,CAAC4B,IAAP,CAAa,eAAcD,IAAI,CAACP,EAAG,EAAnC,CAFjB;AAGE,QAAA,KAAK,eAAE,KAAC,MAAD;AAAA;AAAA,UAHT;AAAA,kBAKI,OAAMO,IAAI,CAACnB,OAAQ,IAAGmB,IAAI,CAACjB,aAAL,IAAsBiB,IAAI,CAACjB,aAAc;AALnE,QADD;AAJH,MAVF;AAAA,IADF;AA2BD,CAvDD;;AAyDA,eAAeZ,KAAf","sourcesContent":["import { useRouter } from \"next/router\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { Card, Button, Modal, List, Comment, Form, Input } from \"antd\";\nimport { ADD_SHOP_REQUEST } from \"../../../reducers/shop\";\nimport { useInput } from \"../../../components/Generalui/CustomHooks\";\nimport KakaoAddress from \"../../../components/Generalui/KakaoAddress\";\nimport AddressDetail from \"../../../components/Forms/AddressDetailForm\";\n\nconst Index = () => {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const { session } = useSelector((state) => state.user);\n  const [modal, setModal] = useState(false);\n  const [shopName, onChangeShopName] = useInput();\n  const [address, setAddress] = useState();\n  const [addressDetail, onChangeAddressDetail] = useInput();\n  const [coordinates, setCoordinates] = useState();\n\n  const onClickAddShop = () => {\n    return setModal((prev) => !prev);\n  };\n\n  const onFinish = () => {\n    dispatch({\n      type: ADD_SHOP_REQUEST,\n      data: {\n        UserId: session.id,\n        shopName,\n        address,\n        addressDetail,\n        bizcode: session.Shops[0].bizcode,\n        coordinates,\n      },\n    });\n  };\n\n  return (\n    <>\n      <Modal visible={modal} onCancel={onClickAddShop}>\n        <Form onFinish={onFinish}>\n          <Form.Item rules={[{ required: true, message: \"점포명을 입력해주세요\" }]}>\n            <Input onChange={onChangeShopName} />\n          </Form.Item>\n          <KakaoAddress address={address} setAddress={setAddress} setCoordinates={setCoordinates} />\n          <AddressDetail onChangeAddressDetail={onChangeAddressDetail} />\n        </Form>\n      </Modal>\n      <Card\n        title={session ? `${session.name}님의 매장 리스트` : \"매장 리스트\"}\n        extra={<Button onClick={onClickAddShop}>매장추가</Button>}\n      >\n        {session.Shops.map((shop) => (\n          <Card\n            title={shop.name}\n            onClick={() => router.push(`/shop/admin/${shop.id}`)}\n            extra={<Button>매장 삭제</Button>}\n          >\n            {`주소: ${shop.address} ${shop.addressDetail && shop.addressDetail}`}\n          </Card>\n        ))}\n      </Card>\n    </>\n  );\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}