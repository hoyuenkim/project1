{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Form, Input } from \"antd\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar BizcdeForm = function BizcdeForm(_ref) {\n  var onChangeBizcode = _ref.onChangeBizcode;\n  return /*#__PURE__*/_jsx(Form.Item, {\n    name: \"bizcode\",\n    validateTrigger: \"onBlur\",\n    rules: [{\n      required: true,\n      message: \"사업자 등록번호를 입력해주세요\"\n    }, function () {\n      return {\n        validator: function validator(rule, value) {\n          return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n            var checkBizID, result;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    if (!(!value || !value.match(/\\d{1}/g) || !value.length === 10)) {\n                      _context.next = 4;\n                      break;\n                    }\n\n                    return _context.abrupt(\"return\", Promise.reject(\"형식에 맞지 않은 사업자 등록번호입니다\"));\n\n                  case 4:\n                    checkBizID = function checkBizID(bizID) {\n                      var checkID = new Array(1, 3, 7, 1, 3, 7, 1, 3, 5, 1);\n                      var tmpBizID,\n                          i,\n                          chkSum = 0,\n                          c2,\n                          remander;\n                      bizID = bizID.replace(/-/gi, \"\");\n\n                      for (i = 0; i <= 7; i++) {\n                        chkSum += checkID[i] * bizID.charAt(i);\n                      }\n\n                      c2 = \"0\" + checkID[8] * bizID.charAt(8);\n                      c2 = c2.substring(c2.length - 2, c2.length);\n                      chkSum += Math.floor(c2.charAt(0)) + Math.floor(c2.charAt(1));\n                      remander = (10 - chkSum % 10) % 10;\n                      if (Math.floor(bizID.charAt(9)) == remander) return true;\n                      return false;\n                    };\n\n                    if (!checkBizID(value)) {\n                      _context.next = 16;\n                      break;\n                    }\n\n                    _context.next = 8;\n                    return axios.post(\"/user/confirm/bizcode\", {\n                      bizcode: value\n                    });\n\n                  case 8:\n                    result = _context.sent;\n\n                    if (result.data) {\n                      _context.next = 13;\n                      break;\n                    }\n\n                    return _context.abrupt(\"return\", Promise.resolve());\n\n                  case 13:\n                    return _context.abrupt(\"return\", Promise.reject(\"이미 존재하는 사업자 등록번호입니다\"));\n\n                  case 14:\n                    _context.next = 17;\n                    break;\n\n                  case 16:\n                    return _context.abrupt(\"return\", Promise.reject(\"형식에 맞지 않은 사업자 등록번호입니다\"));\n\n                  case 17:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }))();\n        }\n      };\n    }],\n    children: /*#__PURE__*/_jsx(Input, {\n      prefix: \"* 사업자등록번호\",\n      size: \"large\",\n      name: \"bizcode\",\n      onChange: onChangeBizcode\n    })\n  });\n};\n\n_c = BizcdeForm;\nexport default BizcdeForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"BizcdeForm\");","map":{"version":3,"sources":["C:/Users/hoyuen/Documents/dev/project1/frontend/components/Forms/BizcodeForm.js"],"names":["Form","Input","BizcdeForm","onChangeBizcode","required","message","validator","rule","value","match","length","Promise","reject","checkBizID","bizID","checkID","Array","tmpBizID","i","chkSum","c2","remander","replace","charAt","substring","Math","floor","axios","post","bizcode","result","data","resolve"],"mappings":"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","sourcesContent":["import { Form, Input } from \"antd\";\r\n\r\nconst BizcdeForm = ({ onChangeBizcode }) => {\r\n  return (\r\n    <Form.Item\r\n      name=\"bizcode\"\r\n      validateTrigger=\"onBlur\"\r\n      rules={[\r\n        {\r\n          required: true,\r\n          message: \"사업자 등록번호를 입력해주세요\",\r\n        },\r\n        () => ({\r\n          async validator(rule, value) {\r\n            if (!value || !value.match(/\\d{1}/g) || !value.length === 10) {\r\n              return Promise.reject(\"형식에 맞지 않은 사업자 등록번호입니다\");\r\n            } else {\r\n              function checkBizID(bizID) {\r\n                var checkID = new Array(1, 3, 7, 1, 3, 7, 1, 3, 5, 1);\r\n                var tmpBizID,\r\n                  i,\r\n                  chkSum = 0,\r\n                  c2,\r\n                  remander;\r\n                bizID = bizID.replace(/-/gi, \"\");\r\n\r\n                for (i = 0; i <= 7; i++) chkSum += checkID[i] * bizID.charAt(i);\r\n                c2 = \"0\" + checkID[8] * bizID.charAt(8);\r\n                c2 = c2.substring(c2.length - 2, c2.length);\r\n                chkSum += Math.floor(c2.charAt(0)) + Math.floor(c2.charAt(1));\r\n                remander = (10 - (chkSum % 10)) % 10;\r\n\r\n                if (Math.floor(bizID.charAt(9)) == remander) return true;\r\n                return false;\r\n              }\r\n              if (checkBizID(value)) {\r\n                const result = await axios.post(\"/user/confirm/bizcode\", {\r\n                  bizcode: value,\r\n                });\r\n                if (!result.data) {\r\n                  return Promise.resolve();\r\n                } else {\r\n                  return Promise.reject(\"이미 존재하는 사업자 등록번호입니다\");\r\n                }\r\n              } else {\r\n                return Promise.reject(\"형식에 맞지 않은 사업자 등록번호입니다\");\r\n              }\r\n            }\r\n          },\r\n        }),\r\n      ]}\r\n    >\r\n      <Input\r\n        prefix={\"* 사업자등록번호\"}\r\n        size={`large`}\r\n        name={\"bizcode\"}\r\n        onChange={onChangeBizcode}\r\n      />\r\n    </Form.Item>\r\n  );\r\n};\r\n\r\nexport default BizcdeForm;\r\n"]},"metadata":{},"sourceType":"module"}