{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nimport { useRouter } from \"next/router\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { Card, Button, Modal, List, Comment, Form, Input } from \"antd\";\nimport { ADD_SHOP_REQUEST } from \"../../../reducers/user\";\nimport { useInput } from \"../../../components/Generalui/CustomHooks\";\nimport ShopAddForm from \"../../../components/Forms/ShopAddForm\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Index = function Index() {\n  _s();\n\n  var dispatch = useDispatch();\n  var router = useRouter();\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      session = _useSelector.session,\n      isLoggedIn = _useSelector.isLoggedIn;\n\n  var _useState = useState(false),\n      modal = _useState[0],\n      setModal = _useState[1];\n\n  var _useInput = useInput(),\n      _useInput2 = _slicedToArray(_useInput, 2),\n      shopName = _useInput2[0],\n      onChangeShopName = _useInput2[1];\n\n  var _useState2 = useState(),\n      address = _useState2[0],\n      setAddress = _useState2[1];\n\n  var _useInput3 = useInput(),\n      _useInput4 = _slicedToArray(_useInput3, 2),\n      addressDetail = _useInput4[0],\n      onChangeAddressDetail = _useInput4[1];\n\n  var _useState3 = useState(),\n      coordinates = _useState3[0],\n      setCoordinates = _useState3[1];\n\n  if (!session || !isLoggedIn) {\n    router.push(\"/\");\n  }\n\n  var onClickAddShop = function onClickAddShop() {\n    return setModal(function (prev) {\n      return !prev;\n    });\n  };\n\n  var onFinish = function onFinish() {\n    dispatch({\n      type: ADD_SHOP_REQUEST,\n      data: {\n        UserId: session.id,\n        shopName: shopName,\n        address: address,\n        addressDetail: addressDetail,\n        bizcode: session.Shops[0].bizcode,\n        coordinates: coordinates\n      }\n    });\n    return setModal(false);\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Modal, {\n      visible: modal,\n      onCancel: onClickAddShop,\n      title: \"점포 추가\",\n      footer: null,\n      children: /*#__PURE__*/_jsx(ShopAddForm, {\n        onFinish: onFinish,\n        onChangeShopName: onChangeShopName,\n        address: address,\n        setAddress: setAddress,\n        onChangeAddressDetail: onChangeAddressDetail,\n        setCoordinates: setCoordinates\n      })\n    }), /*#__PURE__*/_jsx(Card, {\n      title: session ? \"\".concat(session.name, \"\\uB2D8\\uC758 \\uB9E4\\uC7A5 \\uB9AC\\uC2A4\\uD2B8\") : \"매장 리스트\",\n      extra: /*#__PURE__*/_jsx(Button, {\n        onClick: onClickAddShop,\n        children: \"\\uB9E4\\uC7A5\\uCD94\\uAC00\"\n      }),\n      children: session.Shops.map(function (shop) {\n        return /*#__PURE__*/_jsx(Card, {\n          title: shop.name,\n          actions: [/*#__PURE__*/_jsx(\"div\", {\n            onClick: function onClick() {\n              return router.push(\"/shop/admin/\".concat(shop.id));\n            },\n            children: \"\\uB9E4\\uC7A5\\uAD00\\uB9AC\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            children: \"\\uB9E4\\uC7A5\\uC0AD\\uC81C\"\n          })],\n          children: \"\\uC8FC\\uC18C: \".concat(shop.address, \" \").concat(shop.addressDetail && shop.addressDetail)\n        });\n      })\n    })]\n  });\n};\n\n_s(Index, \"J5h0z4X7lNMkCVHry9H58v30dLA=\", false, function () {\n  return [useDispatch, useRouter, useSelector, useInput, useInput];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["C:/Users/hoyuen/Documents/dev/project1/frontend/pages/shop/admin/index.js"],"names":["useRouter","useSelector","useDispatch","useState","useEffect","Card","Button","Modal","List","Comment","Form","Input","ADD_SHOP_REQUEST","useInput","ShopAddForm","Index","dispatch","router","state","user","session","isLoggedIn","modal","setModal","shopName","onChangeShopName","address","setAddress","addressDetail","onChangeAddressDetail","coordinates","setCoordinates","push","onClickAddShop","prev","onFinish","type","data","UserId","id","bizcode","Shops","name","map","shop"],"mappings":"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","sourcesContent":["import { useRouter } from \"next/router\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { Card, Button, Modal, List, Comment, Form, Input } from \"antd\";\nimport { ADD_SHOP_REQUEST } from \"../../../reducers/user\";\nimport { useInput } from \"../../../components/Generalui/CustomHooks\";\nimport ShopAddForm from \"../../../components/Forms/ShopAddForm\";\n\nconst Index = () => {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const { session, isLoggedIn } = useSelector((state) => state.user);\n  const [modal, setModal] = useState(false);\n  const [shopName, onChangeShopName] = useInput();\n  const [address, setAddress] = useState();\n  const [addressDetail, onChangeAddressDetail] = useInput();\n  const [coordinates, setCoordinates] = useState();\n\n  if (!session || !isLoggedIn) {\n    router.push(\"/\");\n  }\n\n  const onClickAddShop = () => {\n    return setModal((prev) => !prev);\n  };\n\n  const onFinish = () => {\n    dispatch({\n      type: ADD_SHOP_REQUEST,\n      data: {\n        UserId: session.id,\n        shopName,\n        address,\n        addressDetail,\n        bizcode: session.Shops[0].bizcode,\n        coordinates,\n      },\n    });\n    return setModal(false);\n  };\n\n  return (\n    <>\n      <Modal visible={modal} onCancel={onClickAddShop} title={\"점포 추가\"} footer={null}>\n        <ShopAddForm\n          onFinish={onFinish}\n          onChangeShopName={onChangeShopName}\n          address={address}\n          setAddress={setAddress}\n          onChangeAddressDetail={onChangeAddressDetail}\n          setCoordinates={setCoordinates}\n        />\n      </Modal>\n      <Card\n        title={session ? `${session.name}님의 매장 리스트` : \"매장 리스트\"}\n        extra={<Button onClick={onClickAddShop}>매장추가</Button>}\n      >\n        {session.Shops.map((shop) => (\n          <Card\n            title={shop.name}\n            actions={[\n              <div onClick={() => router.push(`/shop/admin/${shop.id}`)}>매장관리</div>,\n              <div>매장삭제</div>,\n            ]}\n          >\n            {`주소: ${shop.address} ${shop.addressDetail && shop.addressDetail}`}\n          </Card>\n        ))}\n      </Card>\n    </>\n  );\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}